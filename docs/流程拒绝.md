流程拒绝和流程同意提交的参数是一样的,只是引擎对流程的处理结果不同.对于审批人来说只是点的按钮不同


### 请求参数示例

```http
curl --location 'http://localhost:7001/bpmnConf/process/buttonsOperation?formCode=DSFZH_WMA' \
--header 'userId: 3' \
--header 'Content-Type: application/json' \
--data '{
    "taskId": "92633",
    "processNumber": "DSFZH_WMA_109",
    "formCode": "DSFZH_WMA",
    "approvalComment": "所申请账号现已暂时关闭开通权限,重新开通时会发公告,请留意相关通知信息",
    "operationType": 4
}'
```

请求体json

```json
{
    "taskId": "92633",
    "processNumber": "DSFZH_WMA_109",
    "formCode": "DSFZH_WMA",
    "approvalComment": "所申请账号现已暂时关闭开通权限,重新开通时会发公告,请留意相关通知信息",
    "operationType": 4
}
```

> 和流程同意相比,惟一不同的参数是operationType,同意是3,拒绝是4
参数的含义在流程同意里已经介绍过了,这里不再赘述



### 通过审批页面进行审批拒绝

#### 1.找到需要审批的流程

进入到我发起的流程页面即demo页面上[我的请求](http://117.72.70.166/flow/#/todo) tab,点击进入就可以看到很多我发起的流程,如下图

![img](/images/搜狗截图20240713215401.png)

随便挑选一条`审批中`状态的流程,点击`查看进度`按钮,就会出现一个弹出框,从里面就可以看到流程的完整审批路径,以及当前所处的审批节点
> 绿色表示当前所处的审批节点

![](/images/搜狗截图20240713215542.png)
可以看到当前审批人是李四,查询`t_user`表找到李四的Id,然后把tab切到待审批页面,把李四的Id得到的Id搜索框,就可以看到我们刚才的流程了

![](/images/搜狗截图20240713220016.png)

> 流程没有按时间排序,还大佬们见谅.这里之所以要查询Id,原因前面说到了,AntFlow引擎和用户组织信息完全解耦,便于集成客户现有的OA/CRM系统等系统.

待办列表里有一个审批按钮,点击就可以进入到审批页面了

![](/images/搜狗截图20240713220403.png)

这时候就可以看到同意和拒绝按钮了,点击拒绝即可拒绝当前流程

再退回到我的待办列表里,可以看到编号为DSFZH_WMA_112的流程已经是拒绝状态了

![](/images/搜狗截图20240713220546.png)

截至目前,流程的提交,审批同意,审批拒绝基本的操作都有了.由于时间较紧,目前演示页比较粗糙.但是用户已经可以基于此了解整个流程最基本的功能了.大家也可以看看流程我的请求列表,待办列表,流程预览是怎么实现的,参数可以通过f12抓到了.用户可以根据自己系统的风格来设计不同的样式,完全可以根据自己的需求定制